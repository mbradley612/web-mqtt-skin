<html>
    <header>
    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>
<script src="update-live-weather-mqtt.js" type="text/javascript"></script>
<script>

// once the page has loaded
jQuery(document).ready(function () {
	
		host="$Extras.WebMQTT.host";
        port=$Extras.WebMQTT.port;
        reconnectTimeout = $Extras.WebMQTT.reconnectTimeout;
        topic = "$Extras.WebMQTT.topic"
		MQTTstart(host,port, reconnectTimeout,topic)
		
		
	
});
</script>

</header>


<body>
    <h1>MQTT Loop Weather Example</h1>
    <div id="liveweather">
    <div class="row">
    <div class="column">
    <p><strong>Live feed</strong></p>
    <table style="text-align:center;margin-left:auto;margin-right:auto;width: 250px;">
        <tr>
            <td> Speed </td>
            <td> Gusting </td>
            <td> Direction </td>
        </tr>
        <tr>
            <td> <strong><span id="windSpeed">..</span> knots</strong>  </td>
            <td> <strong><span id="windGust">..</span> knots</strong> </td>
            <td> <strong><span id="windDir">..</span></strong>  </td>
        </tr>
    </table>
    <p>updated at <span id="timestamp">..</span></p>
    </div>
    

        


</body>



</html>